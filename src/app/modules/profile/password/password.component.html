<app-header parentTitle="Je profiel" title="Wijzig wachtwoord" parentRouterLink="/profile">
  Geef eerst je oude wachtwoord op, om een nieuwe aan te maken.
  Na het wijzigen wordt je uitgelogd op al uw apparaten.
</app-header>

<div class="container">
  <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="w-100">
    <div *ngIf="error" class="text-danger font-weight-bold mb-3 mb-0">{{error}}</div>
    <div class="form-group">
      <label class="small" for="current-password">Je huidige wachtwoord</label>
      <input placeholder="Oud wachtwoord" type="password" id="current-password" formControlName="oldpassword"
        class="form-control text-black" [ngClass]="{ 'is-invalid': submitted && f.current-password.errors }" />
      <div *ngIf="submitted && f.current-password.errors" class="invalid-feedback text-right">
        <div *ngIf="f.current-password.errors.required">Vul uw oude wachtwoord in!</div>
      </div>
    </div>
    <div class="form-group">
      <label class="small" for="new-password">Kies een nieuw wachtwoord</label>
      <input type="password" id="new-password" placeholder="Nieuw wachtwoord" formControlName="password"
        class="form-control text-black" [ngClass]="{ 'is-invalid': submitted && f.new-password.errors }" />
      <input type="password" id="confirm-password" placeholder="Herhaal nieuw wachtwoord"
        formControlName="confirmPassword" class="form-control text-black mt-1"
        [ngClass]="{ 'is-invalid': submitted && f.confirm-password.errors }" />
      <div *ngIf="submitted && f.confirm-password.errors" class="invalid-feedback text-right">
        <div *ngIf="f.confirm-password.errors.required">Vul uw nieuw wachtwoord in!</div>
      </div>
    </div>
    <button [disabled]="loading && submitted" type="submit" id="submitButton" class="btn">
      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
      Opslaan <img src="../../../../assets/svg/profile/save.svg" alt="save">
    </button>
  </form>
</div>
